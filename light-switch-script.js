function debounce(e,t){let o;return function(...r){clearTimeout(o),o=setTimeout(()=>e.apply(this,r),t)}}function colorModeToggle(){console.log("testing A");let e=document.documentElement,t=getComputedStyle(e),o="false",r=document.querySelector("[tr-color-vars]");if(!r){console.warn("Script tag with tr-color-vars attribute not found");return}let a=parseFloat(r.getAttribute("duration"))||.5,n=r.getAttribute("ease")||"power1.out",d=r.getAttribute("tr-color-vars");if(!d){console.warn("Value of tr-color-vars attribute not found");return}let i={},s={};if(d.split(",").forEach(e=>{let o=t.getPropertyValue(`--color--${e}`),r=t.getPropertyValue(`--dark--${e}`)||o;o&&(i[`--color--${e}`]=o,s[`--color--${e}`]=r)}),!Object.keys(i).length){console.warn("No variables found matching tr-color-vars attribute value");return}function l(t,o){"undefined"!=typeof gsap&&o?gsap.to(e,{...t,duration:a,ease:n}):Object.keys(t).forEach(o=>{e.style.setProperty(o,t[o])})}function c(t,r){var d;d=t,gsap.to([".splash_hero-dark",".hero_dark-mode",".intro_background_dark",".splash_hero-light",".hero_light-mode",".intro_background_light"],{opacity:e=>d?e<3?1:0:e<3?0:1,duration:a,ease:n,onComplete(){document.querySelector(".intro_background_dark").style.display=d?"block":"none"}}),gsap.to(".is-glow",{opacity:d?1:0,duration:a,ease:n});let c=document.querySelector(".loading_animation");t?(localStorage.setItem("dark-mode","true"),e.classList.add("dark-mode"),l(s,r),o="true",c&&(c.style.mixBlendMode="darken")):(localStorage.setItem("dark-mode","false"),e.classList.remove("dark-mode"),l(i,r),o="false",c&&(c.style.mixBlendMode="screen")),window.dispatchEvent(new Event("colorModeToggle"))}let u=debounce(e=>{c(e.matches,!1)},300),h=window.matchMedia("(prefers-color-scheme: dark)");function g(e){e&&e.dispatchEvent(new Event("mouseenter"))}h.addEventListener("change",u),window.addEventListener("DOMContentLoaded",()=>{let t=document.querySelector(".light-button"),o=document.querySelector(".dark-button"),r=localStorage.getItem("dark-mode");null!==r?"true"===r?(c(!0,!1),g(o)):(c(!1,!1),g(t)):c(h.matches,!1),t&&(t.addEventListener("click",()=>c(!1,!0)),t.addEventListener("mouseenter",()=>{l(i,!0),gsap.to(".splash_hero-light, .intro_background_light",{opacity:1,duration:a,ease:n}),gsap.to(".splash_hero-dark, .intro_background_dark",{opacity:0,duration:a,ease:n})}),t.addEventListener("mouseleave",()=>{let t=e.classList.contains("dark-mode");t?(l(s,!0),gsap.to(".splash_hero-light, .intro_background_light",{opacity:0,duration:a,ease:n}),gsap.to(".splash_hero-dark, .intro_background_dark",{opacity:1,duration:a,ease:n})):l(i,!0)})),o&&(o.addEventListener("click",()=>c(!0,!0)),o.addEventListener("mouseenter",()=>{l(s,!0),gsap.to(".splash_hero-dark, .intro_background_dark",{opacity:1,duration:a,ease:n}),gsap.to(".splash_hero-light, .intro_background_light",{opacity:0,duration:a,ease:n})}),o.addEventListener("mouseleave",()=>{let t=e.classList.contains("dark-mode");t?l(s,!0):(l(i,!0),gsap.to(".splash_hero-dark, .intro_background_dark",{opacity:0,duration:a,ease:n}),gsap.to(".splash_hero-light, .intro_background_light",{opacity:1,duration:a,ease:n}))}))})}colorModeToggle();
