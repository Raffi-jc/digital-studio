function debounce(e,t){let o;return function(...r){clearTimeout(o),o=setTimeout(()=>e.apply(this,r),t)}}function colorModeToggle(){function e(e,t){let o=typeof e;return"string"!=typeof t||""===t.trim()?e:"true"===t&&"boolean"===o||("false"!==t||"boolean"!==o)&&(isNaN(t)&&"string"===o?t:isNaN(t)||"number"!==o?e:+t)}let t=document.documentElement,o=getComputedStyle(t),r="false",a=document.querySelector("[tr-color-vars]");if(!a){console.warn("Script tag with tr-color-vars attribute not found");return}let n=e(.5,a.getAttribute("duration")),l=e("power1.out",a.getAttribute("ease")),d=a.getAttribute("tr-color-vars");if(!d.length){console.warn("Value of tr-color-vars attribute not found");return}let i={},s={};if(d.split(",").forEach(function(e){let t=o.getPropertyValue(`--color--${e}`),r=o.getPropertyValue(`--dark--${e}`);t.length&&(r.length||(r=t),i[`--color--${e}`]=t,s[`--color--${e}`]=r)}),!Object.keys(i).length){console.warn("No variables found matching tr-color-vars attribute value");return}function c(e,o){"undefined"!=typeof gsap&&o?gsap.to(t,{...e,duration:n,ease:l}):Object.keys(e).forEach(function(o){t.style.setProperty(o,e[o])})}function u(e,o){let a=document.querySelector(".intro_background_dark"),d=document.querySelector(".splash_hero-dark");a&&d&&function e(t){let o=document.querySelector(".intro_background_dark"),r=document.querySelector(".splash_hero-dark");o&&r&&(t&&(o.style.display="block"),gsap.to([".splash_hero-dark",".hero_dark-mode",".intro_background_dark",".splash_hero-light",".hero_light-mode",".intro_background_light",],{opacity:e=>t?e<3?1:0:e<3?0:1,duration:n,ease:l,onComplete(){t||(o.style.display="none")}}),gsap.to(".is-glow",{opacity:t?1:0,duration:n,ease:l}))}(e);let u=document.querySelector(".loading_animation");e?(localStorage.setItem("dark-mode","true"),t.classList.add("dark-mode"),c(s,o),r="true",u&&(u.style.mixBlendMode="darken")):(localStorage.setItem("dark-mode","false"),t.classList.remove("dark-mode"),c(i,o),r="false",u&&(u.style.mixBlendMode="screen")),window.dispatchEvent(new Event("colorModeToggle"))}let h=debounce(e=>{u(e.matches,!1)},300),g=window.matchMedia("(prefers-color-scheme: dark)");function k(e){if(e){let t=new Event("mouseenter");e.dispatchEvent(t)}}g.addEventListener("change",h),window.addEventListener("DOMContentLoaded",e=>{let o=document.querySelector(".light-button"),r=document.querySelector(".dark-button"),a=document.querySelector(".mode-toggle-btn"),d=localStorage.getItem("dark-mode");null!==d?"true"===d?(u(!0,!1),k(r)):(u(!1,!1),k(o)):u(g.matches,!1),o&&(o.addEventListener("click",()=>{u(!1,!0)}),o.addEventListener("mouseenter",()=>{c(i,!0),gsap.to(".splash_hero-light, .intro_background_light",{opacity:1,duration:n,ease:l}),gsap.to(".splash_hero-dark, .intro_background_dark",{opacity:0,duration:n,ease:l})}),o.addEventListener("mouseleave",()=>{let e=t.classList.contains("dark-mode");e?(c(s,!0),gsap.to(".splash_hero-light, .intro_background_light",{opacity:0,duration:n,ease:l}),gsap.to(".splash_hero-dark, .intro_background_dark",{opacity:1,duration:n,ease:l})):c(i,!0)})),r&&(r.addEventListener("click",()=>{u(!0,!0)}),r.addEventListener("mouseenter",()=>{c(s,!0),gsap.to(".splash_hero-dark, .intro_background_dark",{opacity:1,duration:n,ease:l}),gsap.to(".splash_hero-light, .intro_background_light",{opacity:0,duration:n,ease:l})}),r.addEventListener("mouseleave",()=>{let e=t.classList.contains("dark-mode");e?c(s,!0):(c(i,!0),gsap.to(".splash_hero-dark, .intro_background_dark",{opacity:0,duration:n,ease:l}),gsap.to(".splash_hero-light, .intro_background_light",{opacity:1,duration:n,ease:l}))})),a&&a.addEventListener("click",()=>{let e="true"===localStorage.getItem("dark-mode");u(!e,!0)})})}colorModeToggle();
